<div class="container mt-4">
  <h2>จัดการโปรโมชั่น</h2>

  <!-- ฟอร์มเพิ่มโปรโมชั่น -->
  <form (ngSubmit)="addPromotion()" #promotionForm="ngForm" enctype="multipart/form-data">
    <div class="mb-3">
      <label for="name" class="form-label">ชื่อโปรโมชั่น</label>
      <input type="text" class="form-control" id="name" name="name" required [(ngModel)]="newPromotion.name">
    </div>
    <div class="mb-3">
      <label for="description" class="form-label">รายละเอียด</label>
      <textarea class="form-control" id="description" name="description" required [(ngModel)]="newPromotion.description"></textarea>
    </div>
    <div class="mb-3">
      <label for="discount" class="form-label">ส่วนลด</label>
      <input type="number" class="form-control" id="discount" name="discount" [(ngModel)]="newPromotion.discount">
    </div>
    <div class="mb-3">
      <label for="startDate" class="form-label">วันเริ่มต้น</label>
      <input type="date" class="form-control" id="startDate" name="startDate" required [(ngModel)]="newPromotion.startDate">
    </div>
    <div class="mb-3">
      <label for="endDate" class="form-label">วันสิ้นสุด</label>
      <input type="date" class="form-control" id="endDate" name="endDate" required [(ngModel)]="newPromotion.endDate">
    </div>
    <div class="mb-3">
      <label for="image" class="form-label">รูปภาพ</label>
      <input type="file" class="form-control" id="image" (change)="onFileSelected($event)">
      <img *ngIf="previewImageUrl" [src]="previewImageUrl" alt="Image preview" class="img-fluid mt-2">
    </div>
    <button type="submit" class="btn btn-primary">เพิ่มโปรโมชั่น</button>
  </form>

  <!-- รายการโปรโมชั่น -->
  <div class="mt-4">
    <h4>รายการโปรโมชั่น</h4>
    <div *ngFor="let promotion of promotions" class="promotion-card">
      <h5>{{ promotion.name }}</h5>
      <p>{{ promotion.description }}</p>
      <button class="btn btn-warning" (click)="editPromotion(promotion)">แก้ไข</button>
      <button class="btn btn-danger" (click)="deletePromotion(promotion.id)">ลบ</button>
    </div>
  </div>
</div>
